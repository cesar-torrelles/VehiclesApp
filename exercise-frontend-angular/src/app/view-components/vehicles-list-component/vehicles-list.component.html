<div>
  
  <p-card title="Vehicles">

    <div class="top-bar">
      <button pButton type="button" icon="pi pi-plus" (click)="showDialog()"></button>
    </div>

    <p-messages [(value)]="msgs"></p-messages>

      <!--Popup to create a new vehicle-->
    <p-dialog header="Add new vehicle" [(visible)]="displayDialog" [modal]="true" [closable]="true">
      <app-add-vehicle-form (vehicleAdded)="onVehicleAdded($event)" (cancel)="closeDialog()"></app-add-vehicle-form>
    </p-dialog>

    


  
    <p-table #ptable [value]="vehicleList"
             [paginator]="false" [lazy]="true"
             [responsive]="true" [scrollable]="true"
             sortField="id"
             [sortOrder]="1">


      <ng-template pTemplate="header" let-columns>
        <tr>
          <th>ID</th>
          <th>Plate</th>
          <th>Manufacturer</th>
          <th>Make</th>
          <th>Commercial Name</th>
          <th>Actions</th>
        </tr>
      </ng-template>

      <ng-template pTemplate="body" let-rowData>
        <tr [pSelectableRow]="rowData">
          <td>{{rowData.id}}</td>
          <td>{{rowData.plate}}</td>
          <td>{{rowData.manufacturer}}</td>
          <td>{{rowData.make}}</td>
          <td>{{rowData.commercialName}}</td>
          <td class="actions-col">
          
            <button pButton type="button" Button class="ui-button-raised" icon="pi pi-pencil" title="Edit"></button>
            <button pButton type="button" Button class="ui-button-raised" icon="pi pi-trash" title="Delete" (click)="deleteVehicle(rowData.id)"></button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </p-card>
</div>
